/*
    history.js contains the History class, which is used to define Window.history
*/

// https://developer.mozilla.org/en-US/docs/Web/API/History
History = _proxy(function () {
    // Key properties for MalwareJail
    this.id = _object_id;
    this._name = "History[" + this.id + "]";

    // Instance methods
    // https://developer.mozilla.org/en-US/docs/Web/API/History#instance_methods

    this.go = function () {
        util_log(this._name + ".go(" + Array.prototype.slice.call(arguments, 0).join(",") + ")");
    }
    this.back = function () {
        util_log(this._name + ".back(" + Array.prototype.slice.call(arguments, 0).join(",") + ")");
    }
    this.forward = function () {
        util_log(this._name + ".forward(" + Array.prototype.slice.call(arguments, 0).join(",") + ")");
    }

    // https://developer.mozilla.org/en-US/docs/Web/API/History/pushState
    this.pushState = function (state, unused, url) {
        util_log(this._name + ".pushState(" + state + ", " + unused + ", " + url + ")");
    }

    this.replaceState = function (data, title) {
        util_log(this._name + ".replaceState(" + Array.prototype.slice.call(arguments, 0).join(",") + ")");
    }

    // Instance properties
    // https://developer.mozilla.org/en-US/docs/Web/API/History#instance_properties

    _defineSingleProperty(this, "length");
    _defineSingleProperty(this, "scrollRestoration");
    _defineSingleProperty(this, "state");
});

History.toString = History.toJSON = () => { return "History" }
