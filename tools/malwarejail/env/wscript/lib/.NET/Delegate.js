'use strict';


// https://learn.microsoft.com/en-us/dotnet/api/system.delegate?view=net-7.0
class Delegate extends Array {
    // https://learn.microsoft.com/en-us/dotnet/api/system.delegate.-ctor?view=net-7.0
    constructor(target, method) {
        super(target);

        // Instance properties
        // https://learn.microsoft.com/en-us/dotnet/api/system.delegate?view=net-7.0#properties
        this._target = target;
        this.target = this._target;
        this.method = method;

        // Custom properties
        this._id = _object_id++;
        this._name = "Delegate[" + this._id + "](" + target + ", " + method + ")";

        // This is assumed to be the target buffer
        Object.defineProperty(this, "0", {
            get: function () {
                return this._target._buffer;
            }
        });
    }

    // Instance methods
    // https://learn.microsoft.com/en-us/dotnet/api/system.delegate?view=net-7.0#methods

    Clone() {}
    Combine(Delegate1, Delegate2) {}
    Combine(DelegateList) {}
    CombineImpl(Delegate) {}
    CreateDelegate(Type, Object, String, Boolean1, Boolean2) {}

    // https://learn.microsoft.com/en-us/dotnet/api/system.delegate.dynamicinvoke?view=net-7.0
    DynamicInvoke(args) {
        // Might as well try to save this array as a blob
        if (typeof args === "object" && args[0] !== undefined) {
            let blob_content = new Uint8Array(args);
            let blob = new Blob([blob_content]);
        }
        return new Activator();
    }

    DynamicInvokeImpl(ObjectList) {}
    Equals(Object) {}
    GetHashCode() {}
    GetInvocationList() {}
    GetMethodImpl() {}
    GetObjectData(SerializationInfo, StreamingContext) {}
    GetType() {}
    MemberwiseClone() {}
    Remove(Delegate1, Delegate2) {}
    RemoveAll(Delegate1, Delegate2) {}
    RemoveImpl(Delegate) {}

    ToString() {
        return this._name;
    }
}

Delegate = new ProxyGenerator(Delegate);